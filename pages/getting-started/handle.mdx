---
title: Handle updates
---

# Handle updates

For handling updates, we use `Composer`. By default the `Snake` class is

## on

**Composer.on(**

<span className="ml-4">filter: <span className="text-green-600 dark:text-green-300">string</span> | <span className="text-yellow-600 dark:text-yellow-300">Array\<<span className="text-green-600 dark:text-green-300">string</span>\></span>,</span>   
<span className="ml-4">handler: <span className="text-purple-600 dark:text-purple-300">Function</span></span>   
**)**  
This function will filter updates according to the `filter` arguments provided.
### Available filters

- any
- message
- editedMessage
- channelPost
- editedChannelPost
- inlineQuery
- chosenInlineResult
- callbackQuery
- shippingQuery
- preCheckoutQuery
- poll
- pollAnswer
- chatJoinRequest
- myChatMember
- chatMember
- secretChat
- msg.text
- msg.caption
- msg.chat
- msg.from
- msg.animation
- msg.audio
- msg.document
- msg.photo
- msg.sticker
- msg.video
- msg.videoNote
- msg.voice
- msg.webpage
- msg.replyToMessage
- msg.replyToMessageId
- msg.replyToTopMessageId
- msg.newChatMembers
- msg.leftChatMember
- msg.pinnedMessage
- cb.data
- cb.message
- editMsg.text
- editMsg.caption
- editPost.text
- editPost.caption
- inlineQuery.from
- inlineQuery.location
- inlineQuery.chatType
- chosenInlineResult.from
- chosenInlineResult.location
- chosenInlineResult.inlineMessageId
- shippingQuery.from

```js
client.on('message.text', (ctx) => {
  console.log(ctx);
});
```

## command

> shorthand is cmd

**Composer.command(**

<span className="ml-4">cmd: <span className="text-green-600 dark:text-green-300">string</span> | <span className="text-yellow-600 dark:text-yellow-300">Array\<<span className="text-green-600 dark:text-green-300">string</span>\></span>,</span>   
<span className="ml-4">handler: <span className="text-purple-600 dark:text-purple-300">Function</span></span>   
**)**  
This function will filter a message that matches the `cmd` argument. Prefix default is `.!/`.
```js
client.cmd('start',(ctx)=>{
  console.log(ctx)
})
```
## hears 
> shorthand is hear

**Composer.hears(**

<span className="ml-4">text: <span className="text-green-600 dark:text-green-300">string</span> | <span className="text-yellow-600 dark:text-yellow-300">Array\<<span className="text-green-600 dark:text-green-300">string</span>\></span>,</span>   
<span className="ml-4">handler: <span className="text-purple-600 dark:text-purple-300">Function</span></span>   
**)**  
This function will filter a message that contains the `text` argument.
```js
client.hear('hei',(ctx)=>{
  console.log(ctx)
})
```
## use 
**Composer.use(**  
<span className="ml-4">handler: <span className="text-purple-600 dark:text-purple-300">Function</span></span>   
**)**  
This function will be executed before the other functions. This function is useful for creating middleware.
```js
client.use((ctx,next)=>{
  console.log(ctx)
  return next()
})
```
## action

**Composer.action(**

<span className="ml-4">callbackData: <span className="text-green-600 dark:text-green-300">string</span> | <span className="text-yellow-600 dark:text-yellow-300">Array\<<span className="text-green-600 dark:text-green-300">string</span>\></span>,</span>   
<span className="ml-4">handler: <span className="text-purple-600 dark:text-purple-300">Function</span></span>   
**)**  
This function will filter a callbackQuery which is matched with given callbackData
```js
client.action('start',(ctx)=>{
  console.log(ctx)
})
```
## inlineQuery

**Composer.inlineQuery(**

<span className="ml-4">query: <span className="text-green-600 dark:text-green-300">string</span> | <span className="text-yellow-600 dark:text-yellow-300">Array\<<span className="text-green-600 dark:text-green-300">string</span>\></span>,</span>   
<span className="ml-4">handler: <span className="text-purple-600 dark:text-purple-300">Function</span></span>   
**)**  
This function will filter any query submitted by users and matches with given query.
```js
client.inlineQuery('start',(ctx)=>{
  console.log(ctx)
})
```
